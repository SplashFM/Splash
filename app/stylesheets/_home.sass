@import compass/css3
@import compass/typography/text/replacement
@import compass/utilities/sprites/sprite-img

$tutorial-w: 493px
$tutorial-h: 376px
$tutorial-c-pad-top: 27px
$tutorial-c-pad-right: 21px
$tutorial-c-pad-left: 333px
$tutorial-header-h: 52px
$tutorial-footer-h: 31px
$tutorial-header-offset: 2px
$tutorial-dot-h: 15px

.stretch-and-center
  width: $tutorial-w
  text-align: center

.tutorial-wrap
  background-color: #000
  display: none
  left: 0
  position: absolute
  opacity: 0.4
  top: 0
  z-index: 450

.tutorial
  +box-shadow(0 0 7px #000)
  background: url(/images/background-tutorial.png) transparent
  display: none
  height: $tutorial-h
  width: $tutorial-w
  +border-radius(8px)
  z-index: 500

  .tutorial-header
    height: $tutorial-header-h + $tutorial-header-offset

    h1
      +replace-text-with-dimensions("logo-tutorial.png")
      margin: -$tutorial-header-offset 0 0 -20px

    .close
      position: absolute
      right: 8px
      top: 8px
      a
        display: inline-block
        +replace-text-with-dimensions("close-tutorial.png")

    .sub
      @extend .stretch-and-center
      bottom: 33px
      color: #81a6cc
      font: 14px AvantGardeBookBT,arial,sans-serif
      position: relative

  .tutorial-footer, .tutorial-content, .tutorial-content-pane, .tutorial-header
    width: $tutorial-w
    position: relative

  .tutorial-footer
    height: $tutorial-footer-h

  .tutorial-content, .tutorial-content-pane
    height: $tutorial-h - $tutorial-header-h - $tutorial-footer-h

  .tutorial-pager-absolute
    $sprite-image-default-width: 20px
    $sprite-image-default-height: 15px

    height: $tutorial-dot-h
    padding: ($tutorial-dot-h / 2) 0 0 12px

    a
      +hide-text
      display: inline-block
      +sprite-background("page-dots-tutorial.png")
      +sprite-position(2)
      height: $tutorial-dot-h
      width: 20px

      &.active
        +sprite-position(1)

      &:hover
        +sprite-position(3)

  .tutorial-content-pane
    +box-sizing(border-box)
    padding: $tutorial-c-pad-top $tutorial-c-pad-right 0 0

  .tutorial-inner-content-pane
    @extend .tutorial-content-pane
    padding-left: $tutorial-c-pad-left

    h2
      color: #221e1f
      font: 16px AvantGardeBold,sans-serif

    p
      color: #929191
      font: italic 14px Georgia,serif
      margin-top: 20px

      &.first
        margin-top: 12px

  .tutorial-welcome
    @extend .tutorial-content-pane
    background: url(/images/welcome-tutorial.png)
    color: #666

    h2, p.sub
      +text-shadow(1px 1px #fff)

    h2
      @extend .stretch-and-center
      font: 24px AvantGardeBold,arial,sans-serif

    p.sub
      @extend .stretch-and-center
      font: 14px AvantGardeBookBT,arial,sans-serif

    .tutorial-pager-relative
      left: $tutorial-c-pad-left

  .tutorial-pager-relative
    $sprite-image-default-width: 37px
    $sprite-image-default-height: 37px

    color: #597693
    font: 16px AvantGardeMediumBT,arial,sans-serif
    line-height: 32px
    bottom: 13px
    position: absolute
    text-align: center
    vertical-align: middle
    width: $tutorial-w - $tutorial-c-pad-left - $tutorial-c-pad-right
    z-index: 500

    a
      +hide-text
      display: inline-block
      +sprite-background("nav-arrows-tutorial.png")
      height: 32px
      width: 32px

      &.tutorial-pager-prev
        +sprite-position(1, 2)
        float: left

        &:hover
          +sprite-position(1, 1)
        &:active
          +sprite-position(1, 3)

      &.tutorial-pager-next
        +sprite-position(2, 2)
        float: right

        &:hover
          +sprite-position(2, 1)
        &:active
          +sprite-position(2, 3)
