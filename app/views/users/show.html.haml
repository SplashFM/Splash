:javascript
  $(function () {
    window.App.trackSearch = new TrackSearch({perPage: #{Track.default_per_page}})
    window.App.eventFeed = new Events({
      app:     window.App,
      filters: {user: #{@user.id}},
    });
    window.Scroll = new EndlessScroll({
      data: App.eventFeed,
      noMoreResults: $('<p/>').
        text(I18n.t('events.all_loaded')).
        addClass('loaded'),
      spinnerContainer: $('.loading-spinner-container'),
    });
  });

.users-show
  = render "sidebar"
  #stream-wrap.right
    #stream-feed{:data => {:widget => 'feed'}}
      .streamfeed-top
        .container
          = render "shared/feed_search"
        .feed-settings-tabs
          .avan-bold
            %ul{:data => {:widget => 'filter-following'}}
              %li.ui-tabs-selected
                %a.active{:href => "#activity"}= t('events.filters.my_activity')
              %li
                %a{:href => "#social"}= t('events.filters.social')
          .line
            %span
          %span.feed-updates-count.left{:data => {:widget => 'update-count'}}
          = render "shared/feed_toggles"
      = render "shared/feed_filter"
      %ul.live-feed{:data => {:widget => 'events'}}
      .loading-spinner-container
  .cl &nbsp;

.clear
